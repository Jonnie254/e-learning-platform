<nav class="bg-gray-500 border-gray-200 shadow-navbar z-50">
  <div class="max-w-screen-xl flex flex-wrap items-center justify-between mx-auto p-4">
    <a href="" class="flex items-center gap-2 rtl:space-x-inverse">
      <img src="skillverse.png" class="h-8 rounded-lg" alt="SkillVerse"/>
      <span class="self-center text-2xl font-semibold whitespace-nowrap text-blue-700 font-poppins">SkillVerse</span>
    </a>
    <button type="button" (click)="toggleMobileMenu()"
            class="inline-flex items-center p-2 w-10 h-10 justify-center text-sm text-white rounded-lg md:hidden hover:bg-dark2
focus:outline-none focus:ring-2 focus:ring-cyan-100" aria-expanded="false">
      <span class="sr-only">Open main menu</span>
      <i class="pi pi-bars"></i>
    </button>
    <div [ngClass]="{'hidden': !isMobileMenuOpen, 'w-full md:block md:w-auto': true}" id="navbar-menu">
      <ul class="flex flex-col font-medium p-4 md:p-0 mt-4 border border-blue-100 rounded-lg bg-gray-200 md:space-x-8 rtl:space-x-reverse md:flex-row md:mt-0
md:border-0 md:bg-transparent">
        <li>
          <a routerLink="/landing-page"
             class="block py-2 px-3 text-blue-400 hover:text-blue-500 md:bg-transparent md:p-0 md:hover:text-blue-400"
             aria-current="page">Home</a>
        </li>
        <li>
          <a routerLink="/courses"
             class="block py-2 px-3 text-blue-400 hover:text-blue-500 md:bg-transparent md:p-0 md:hover:text-blue-400">Courses</a>
        </li>
        <li>
          <a routerLink="/about-us"
             class="block py-2 px-3 text-blue-400 hover:text-blue-500 md:bg-transparent md:p-0 md:hover:text-blue-400">About Us</a>
        </li>
        <li *ngIf="isLoggedIn">
          <a routerLink="/cart" class="flex items-center gap-2 justify-between w-full py-2 px-3 text-white rounded hover:bg-blue-700 md:hover:bg-transparent md:border-0
           md:hover:text-blue-200 md:p-0 md:w-auto cursor-pointer">
            <i class="pi pi-shopping-cart m-1"></i>
            <span>Cart</span>
            <span class="bg-blue-600 text-white rounded-full px-2 py-1">{{cartItemsCount}}</span>
          </a>
        </li>
        <li *ngIf="!isLoggedIn" class="relative">
          <div (click)="toggleLoginDropdown()"
               class="flex items-center justify-between w-full py-2 px-3 text-white rounded hover:bg-blue-700 md:hover:bg-transparent md:border-0 md:hover:text-blue-200 md:p-0 md:w-auto cursor-pointer">
            Get Started
            <i class="pi pi-chevron-down m-1"></i>
          </div>
          <div class="z-50 absolute right-0 mt-2 w-44 bg-amber-50 rounded-md origin-top-right ring-1 ring-black right-opacity-5"
               [ngClass]="{'hidden': !isLoginDropdownOpen}">
            <ul class="py-1" aria-label="submenu">
              <li>
                <a routerLink="/login"
                   class="block px-4 py-2 text-blue-400 hover:text-blue-500 hover:bg-emerald-200">Login</a>
              </li>
              <li>
                <a routerLink="/register"
                   class="block px-4 py-2 text-blue-400 hover:text-blue-500 hover:bg-emerald-200">Register</a>
              </li>
            </ul>
          </div>
        </li>

        <!-- Move "My Account" outside of the above block -->
        <li *ngIf="isLoggedIn" class="relative">
          <div (click)="toggleUserDropdown()"
               class="flex items-center justify-between w-full py-2 px-3 text-white rounded hover:bg-blue-700 md:hover:bg-transparent md:border-0 md:hover:text-blue-200 md:p-0 md:w-auto cursor-pointer">
            <img [src]="user.profilePicUrl ? user.profilePicUrl : 'profilepic.svg'" class="h-8 w-8 rounded-full mr-2" alt="Profile picture"/>
            <span>My Account</span>
            <i class="pi pi-chevron-down m-1"></i>
          </div>
          <div class="z-10 absolute right-0 mt-2 w-48 bg-blue-500 rounded-md shadow-lg origin-top-right ring-1 ring-black ring-opacity-5"
               [ngClass]="{'hidden': !isUserDropdownOpen}">
            <ul class="py-1" aria-label="submenu">
              <li>
                <a routerLink="/my-courses"
                   class="block px-4 py-2 text-sm text-white hover:bg-blue-700">My Courses</a>
              </li>
              <li>
                <a routerLink="/my-inbox"
                   class="block px-4 py-2 text-sm text-white hover:bg-blue-700">Inbox</a>
              </li>
              <li>
                <a routerLink="/manage-profile"
                   class="block px-4 py-2 text-sm text-white hover:bg-blue-700">Profile</a>
              </li>
              <li>
                <a routerLink="/request-role"
                   class="block px-4 py-2 text-sm text-white hover:bg-blue-700">Request Role
                </a>
              </li>
              <li>
                <a routerLink="/logout" (click)="logOut()"
                   class="block px-4 py-2  text-sm text-white hover:bg-blue-700">Logout</a>
              </li>
            </ul>
          </div>
        </li>
      </ul>
    </div>
  </div>
</nav>
